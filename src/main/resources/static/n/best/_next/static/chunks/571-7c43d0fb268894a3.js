"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[571],{4571:function(e,t,r){r.r(t),r.d(t,{__N_SSP:function(){return eO},default:function(){return eH}});var s=r(2322),n=r(3681),i=function(){return(0,s.jsxs)("div",{className:"box__error-message box__error-full",children:[(0,s.jsx)("embed",{type:"image/svg+xml",className:"box__animation",src:n.Z.errorImageUrl}),(0,s.jsxs)("p",{className:"text__error-message",children:["일시적인 오류로 연결할 수 없습니다.",(0,s.jsx)("span",{className:"text__sub-error",children:"잠시 후 다시 시도해주세요."})]}),(0,s.jsx)("a",{className:"link__more-view",href:n.Z.hostUrl,children:"홈으로 가기"})]})},a=function(){return(0,s.jsxs)("div",{className:"box__error-message box__error-full",children:[(0,s.jsx)("embed",{type:"image/svg+xml",className:"box__animation",src:n.Z.errorImageUrl}),(0,s.jsxs)("p",{className:"text__error-message",children:["베스트 랭킹을 집계 중입니다.",(0,s.jsx)("span",{className:"text__sub-error",children:"다른 랭킹을 확인해 주세요."})]}),(0,s.jsx)("a",{className:"link__more-view",href:n.Z.hostUrl,children:"전체 베스트 보기"})]})},c=r(8788),o=r(7328),l=r(6297),u=r(6383),d=r(2970),m=r(2784),p=r(5632),x=r(9328),f=r(8135),g=(0,f.cn)(null);(0,f.cn)({data:[],loading:!0,error:!1});var h=(0,f.cn)(!1),v=r(9607),_={data:[],loading:!0,error:!1},j=function(e){var t,r=(0,u.Z)((0,x.KO)(g),2),s=r[0],i=r[1],a=(0,u.Z)((0,x.KO)(h),2),f=a[0],j=a[1],b=(0,m.useState)(null),y=b[0],N=b[1],C=(0,m.useState)(_),I=C[0],S=C[1],k=(0,p.useRouter)(),P=k.asPath,w=k.query.ItemId,Z=k.pathname,G=k.replace,E=(0,l.Z)(k.query,["ItemId"]),A=(0,m.useCallback)((t=(0,c.Z)(function(t){var r,s;return(0,d.__generator)(this,function(r){switch(r.label){case 0:if(!e)return[2];S({data:[],loading:!0,error:!1}),r.label=1;case 1:if(r.trys.push([1,5,6,7]),!t)return[3,4];return[4,fetch("".concat(n.Z.api,"/related-items/").concat(t))];case 2:return[4,r.sent().json()];case 3:S({data:r.sent(),loading:!1,error:!1}),r.label=4;case 4:return[3,7];case 5:return r.sent(),S({data:[],loading:!1,error:!0}),[3,7];case 6:return v.Q.clear(),[7];case 7:return[2]}})}),function(e){return t.apply(this,arguments)}),[]),F=(0,m.useCallback)(function(t){v.Q.setItem(e,t)},[e]);return(0,m.useEffect)(function(){i(null)},[P,i]),(0,m.useEffect)(function(){w&&(N(w),G({pathname:Z,query:(0,o.Z)({},E)},void 0,{shallow:!0}))},[w,Z,G,E]),(0,m.useEffect)(function(){var t=v.Q.getItem(e);t&&(A(t),i(t))},[A,e,i,f]),{clickedItemId:s,paramItemId:y,relatedItems:I,triggerFetchCpc:f,setClickedItemId:i,setTriggerFetchCpc:j,updateClickedItemId:F}},b=r(634),y=(0,f.cn)({}),N=new Map,C=function(e,t){for(var r=[],s=0,n=e.length;s<n;s+=t)r.push(e.slice(s,s+t));return r},I=function(e,t){var r=(0,x.b9)(y),s=function(e){if("undefined"!=typeof window){var t=[],s=!0,i=!1,a=void 0;try{for(var c,u=e[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var d=c.value,m=d.goodsCode,p=d.sellPrice,x=d.itemPriceType,f=d.lCode,g=d.mCode,h=d.sCode,v=d.isSmileShipping,_=d.sellCustNo,j=d.transPolicyNo,b=d.sdBrandSeq,y=d.itemPrice;if(!(!m||N.get(m))&&"Normal"===x){var I=0<y&&y<10;t.push({itemNo:m,sellPrice:p,lCode:f||"",mCode:g||"",sCode:h||"",sellerCustNo:_||"",brandId:b||0,isZeroPrice:I,isSmileDelivery:v||!1,shippingPolicyId:j||0}),N.set(m,!0)}}}catch(S){i=!0,a=S}finally{try{s||null==u.return||u.return()}finally{if(i)throw a}}if(t.length){var k=C(t,50),P=!0,w=!1,Z=void 0;try{for(var G,E=k[Symbol.iterator]();!(P=(G=E.next()).done);P=!0){var A=G.value;fetch("".concat(n.Z.api,"/coupon-prices"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:A}),credentials:"include"}).then(function(e){return e.json()}).then(function(e){var t=e.map(function(e){var t=e.itemNo,r=(0,l.Z)(e,["itemNo"]);return[t,r]});r(function(e){return(0,o.Z)({},e,Object.fromEntries(t))})}).catch(function(){var e=!0,t=!1,r=void 0;try{for(var s,n=A[Symbol.iterator]();!(e=(s=n.next()).done);e=!0){var i=s.value;N.delete(i.itemNo)}}catch(a){t=!0,r=a}finally{try{e||null==n.return||n.return()}finally{if(t)throw r}}})}}catch(F){w=!0,Z=F}finally{try{P||null==E.return||E.return()}finally{if(w)throw Z}}}}};if((0,m.useEffect)(function(){},[t]),(0,m.useEffect)(function(){e&&s(e)},[e]),!e)return s},S=r(2524),k=r.n(S),P={largeGroup:"200000676",middleGroup:"200000677",bestItem:"200000680",adModuleCategory:"200008517",adModuleItem:"200008518",adModulePageChange:"200008519",tooltip:"200011604",tooltipClose:"200011605",largeGroupPrevNext:"200011606",middleGroupPrevNext:"200011607",mLargeGroup:"200000318",mMiddleGroup:"200000319",mIntroLayer:"200000320",mIntroClosedLayer:"200000321",mBestItem:"200000322",mMiniShop:"200011669",mDaBanner:"200011608",mCpcAdItem:"200011609",mFilter:"200011610",mFilterItem:"200011611",mFilterClose:"200011612"},w=r(8879),Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ver",r=w().format("YYYYMMDD"),s=e.includes("?");return"".concat(e).concat(s?"&":"?").concat(t,"=").concat(r)},G=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.map(function(e){return Z(e)})},E=r(6353),A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.includes("MobileApp")},F=function(e){var t;return"undefined"==typeof window&&e?(t=e,A(t.headers["user-agent"]||"")):A(window.navigator.userAgent)},T=function(){if("undefined"!=typeof window){var e="P"===(({mobile:"M",tablet:"T"})[new E().getDevice().type]||"P"),t=F(),r={iOS:"I",Android:"A"}[new E().getOS().name]||"E";return e?"PC":t?({A:"and",I:"ios"})[r]||"E":"mweb"}},R=function(e){"undefined"!=typeof window&&window.adprofiler.sendAd(e)},D=r(9814),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e&&b.tY<=Number(e)?"number"==typeof e?e:Number(e):0},U=function(e){var t,r=e.discountRate,s=e.sellPrice,n=e.itemPrice;return{hasDiscountRate:!!M(r),isValidSellPrice:!!s&&!!n&&Number(s)>Number(n)}},L=function(e){var t=e.couponState,r=e.itemPrice,s=e.itemDiscountRate,n=e.hasDiscountRate,i=t||{},a=i.couponAppliedPrice,c=void 0===a?0:a,o=i.discountRate,l=void 0===o?0:o,u=!!c&&c<r,d=n?s:null;return u&&(d=l>=1?l:null),{isCouponPrice:u,discountRate:d}},q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(isNaN(e)||null==e)return"";"string"==typeof e&&(e=Number(e));var r=(e=e.toFixed(~~t)).split("."),s=r[0],n=r[1]?"."+r[1]:"";return"".concat(s.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")).concat(n)},V=function(e){return null==e?0:parseInt(e.replace(/,/g,""))},Q=r(9404),B=function(e){var t=e.itemPrice;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text__installment",children:"할부원금"}),(0,s.jsx)("div",{className:"box__price",children:(0,s.jsxs)("div",{className:"box__price-seller",children:[(0,s.jsx)("span",{className:"for-a11y",children:"판매가"}),(0,s.jsx)("span",{className:"text text__value",children:t}),(0,s.jsx)("span",{className:"text text__unit",children:"원"})]})})]})},J=function(){return(0,s.jsx)("div",{className:"box__price-seller",children:(0,s.jsx)("span",{className:"text text__unit",children:"가입상품"})})},O=function(e){var t=e.itemPriceType,r=e.price,n=e.consultingPeriod,i=e.isPriceExpose,a=e.isStartPrice,c=["ConsultingFuneral","ConsultingInternet","ConsultingRental",].includes(t);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text__installment",children:function(){switch(t){case"ConsultingTravel":return"일정 ".concat(n);case"ConsultingFuneral":return"총납입회차 ".concat(n,"회");case"ConsultingInternet":return"약정기간 ".concat(n,"개월");case"ConsultingRental":return"의무사용기간 ".concat(n,"개월");default:return""}}()}),"ConsultingTravel"!==t||i?(0,s.jsx)("span",{className:"box__price",children:(0,s.jsxs)("div",{className:"box__price-seller",children:[(0,s.jsx)("span",{className:"for-a11y",children:"판매가"}),c&&(0,s.jsx)("span",{className:"text text__month",children:"월"}),(0,s.jsx)("span",{className:"text text__value",children:r}),(0,s.jsxs)("span",{className:"text text__unit",children:["원",a&&"~"]})]})}):(0,s.jsx)("div",{className:"box__price-seller",children:(0,s.jsx)("span",{className:"text text__unit",children:"상담 후 가격 결정"})})]})},H=function(e){var t=e.sellPrice;return(0,s.jsxs)("div",{className:"box__price-original",children:[(0,s.jsx)("span",{className:"for-a11y",children:"원가"}),(0,s.jsx)("span",{className:"text text__value",children:t}),(0,s.jsx)("span",{className:"text text__unit",children:"원"})]})},z=function(e){var t=e.discountPercent;return t?(0,s.jsxs)("div",{className:"box__discount",children:[(0,s.jsx)("span",{className:"for-a11y",children:"할인율"}),(0,s.jsxs)("span",{className:"text text__value",children:[t,"%"]})]}):null},Y=function(e){var t=e.price,r=e.discountPrice,i=e.discountRate,a=e.isFreeShipping,c=e.couponPrice,o=U({discountRate:i,sellPrice:V(t),itemPrice:V(r)}),l=o.hasDiscountRate,u=o.isValidSellPrice,d=L({couponState:c,itemPrice:V(r),itemDiscountRate:i,hasDiscountRate:l}),m=d.isCouponPrice,p=d.discountRate,x=c||{},f=x.couponAppliedPrice,g=x.hasClubCoupon;return(0,s.jsxs)(s.Fragment,{children:[m?(0,s.jsxs)("div",{className:"box__price",children:[(0,s.jsx)("span",{className:"text__price-title",children:"쿠폰적용가"}),(0,s.jsx)(H,{sellPrice:t})]}):(u||l)&&(0,s.jsxs)("div",{className:"box__price",children:[(0,s.jsx)(z,{discountPercent:p}),u&&(0,s.jsx)(H,{sellPrice:t})]}),(0,s.jsxs)("div",{className:"box__price",children:[m&&(0,s.jsx)(z,{discountPercent:p}),(0,s.jsxs)("div",{className:"box__price-seller",children:[(0,s.jsx)("span",{className:"for-a11y",children:"판매가"}),(0,s.jsx)("span",{className:"text text__value",children:q(f)||r}),(0,s.jsx)("span",{className:"text text__unit",children:"원"})]}),(0,s.jsxs)("div",{className:"box__information-tags",children:[m&&g&&(0,s.jsx)("span",{className:"icon__tag icon__club",children:(0,s.jsx)(Q.fc,{src:n.Z.universeClubImageUrl,alt:"유니버스클럽",className:"image"})}),a&&(0,s.jsx)("span",{className:"icon__tag icon__delivery-free",children:(0,s.jsx)(Q.fc,{src:"".concat(n.Z.freeShippingImageUrl),alt:"무료배송",className:"image"})})]})]})]})},K=function(e){var t=e.itemPriceType,r=e.price,n=e.discountPrice,i=e.discountRate,a=e.consultingPeriod,c=e.isPriceExpose,o=e.isStartPrice,l=e.isFreeShipping,u=e.couponPrice;if(t.includes("Consulting"))return(0,s.jsx)(O,{itemPriceType:t,price:r,consultingPeriod:a,isPriceExpose:c,isStartPrice:o});switch(t){case"Normal":return(0,s.jsx)(Y,{price:r,discountPrice:n,discountRate:i,isFreeShipping:l,couponPrice:u});case"Join":return(0,s.jsx)(J,{});case"Cellphone":return(0,s.jsx)(B,{itemPrice:r});default:return null}},W=function(e){var t=e.itemPriceType,r=e.price,n=e.discountPrice,i=e.discountRate,a=e.consultingPeriod,c=e.isPriceExpose,o=e.isStartPrice,l=e.isFreeShipping,u=e.couponPrice;return(0,s.jsx)("div",{className:"box__item-price",children:(0,s.jsx)(K,{itemPriceType:t,price:r,discountPrice:n,discountRate:i,consultingPeriod:a,isPriceExpose:c,isStartPrice:o,isFreeShipping:l,couponPrice:u})})},$=r(5018),X=function(e){var t=e.imageUrl,r=e.itemName,n=e.onClick,i=e.rank,a=e.isBigSmileItem,c=e.isClickShown,o=e.isCpcItem,l=e.isAdItem,u=(0,x.Dv)($.A);return(0,s.jsxs)("div",{className:o?"box__thumb":"box__thumbnail",onClick:n,children:[l&&(0,s.jsx)("span",{className:"sprite text__tag-ad",children:"광고상품"}),(0,s.jsx)(Q.fc,{src:t,alt:r,className:o?"image__thumb image__lazy":"image"}),!o&&(0,s.jsxs)("span",{className:"box__label-rank",children:[i,c&&(0,s.jsx)("span",{className:"text__selected",children:"클릭상품"})]}),u.isBigSmileDay&&a&&(0,s.jsx)("span",{className:o?"box__bigs-tag":"box__promotion-emblem",children:(0,s.jsx)(Q.fc,{className:"image",alt:u.bsdTagAltText,src:u.bsdTagImageUrl})})]})},ee=function(e){var t=e.isSmileDelivery,r=e.isSuperDeal;return(0,s.jsxs)("div",{className:"box__lmo-tags",children:[t&&(0,s.jsx)("span",{className:"text__tags",children:(0,s.jsx)(Q.fc,{src:"".concat(n.Z.scriptUrl,"/starro/desktop/images/single/best/logo_smiledelivery@3x.png"),alt:"스마일배송",className:"image"})}),r&&(0,s.jsx)("span",{className:"text__tags",children:(0,s.jsx)(Q.fc,{src:"".concat(n.Z.scriptUrl,"/starro/desktop/images/single/best/logo_superdeal@3x.png"),alt:"슈퍼딜",className:"image"})})]})},et=function(e){var t=e.goodsCode,r=e.goodsName,n=e.linkUrl,i=e.discountPrice,a=e.price,c=e.rank,l=e.imageUrl,d=e.discountRate,f=e.consultingPeriod,g=e.updateClickedItemId,h=e.hasParamItemId,v=e.isFreeShipping,_=e.isSmileShipping,j=e.itemPriceType,b=e.isPriceExpose,N=e.isStartPrice,C=e.isBigSmileItem,I=e.isClickedItem,S=e.imageChgDt,k=e.isSuperDeal,w=e.isClickShown,Z=e.isCpcItem,E=void 0!==Z&&Z,A=e.isAdItem,F=void 0!==A&&A,R=(0,m.useRef)(null),M=(0,p.useRouter)().query,U=M.subGroupCode,L=M.groupCode,q=(0,u.Z)(G(n),1)[0],V="".concat(l,"/300?ver=").concat(S),Q=(0,D.Je)((0,o.Z)({acode:E?P.adModuleItem:P.bestItem,asn:c,goodscode:t},E?{service_name:F?"CPC광고":"Organic 상품",device_type:T()}:{categorycode:U||L,goodsname:r})),B=function(){return g&&g(t)},J=(0,x.Dv)(y)[t||""]||{};(0,m.useLayoutEffect)(function(){R.current&&(I||h)&&R.current.scrollIntoView()},[I,h]);var O=(0,D.l6)([Q,R]);return(0,s.jsxs)("a",{ref:O,href:q,className:E?"link__item":"link",children:[(0,s.jsx)(X,{itemName:r,isAdItem:F,imageUrl:V,rank:c,isBigSmileItem:C,isClickShown:w,isCpcItem:E,onClick:B}),(0,s.jsxs)("div",{className:"box__item-info",children:[(0,s.jsx)("p",{className:"box__item-title",children:r}),(0,s.jsx)(W,{itemPriceType:j,price:a,discountPrice:i,discountRate:d,consultingPeriod:f,isFreeShipping:v,isPriceExpose:b,isStartPrice:N,couponPrice:J}),(_||k)&&(0,s.jsx)(ee,{isSmileDelivery:_,isSuperDeal:k})]})]})},er=r(6670),es=r(3524),en=function(e){Array.from(e.getElementsByClassName("list-item swiper-slide-duplicate")).forEach(function(e){var t=e.querySelector(".image__thumb");null==t||t.classList.add("image__load"),e.style.cssText="width: 174px; margin-right: 10px"})},ei=function(e){var t=e.container,r=e.startIndex,s=e.slidesPerView,n=t.querySelectorAll(".list-item"),i=t.querySelector(".swiper-notification");null==n||n.forEach(function(e,t){var n=t>=r&&t<r+s;e.setAttribute("tabindex",n?"0":"-1"),e.setAttribute("aria-hidden",n?"false":"true")}),i&&(i.innerText="상품 리스트 업데이트 됨")},ea=function(e){/MSIE \d|Trident.*rv:/.test(navigator.userAgent)&&Object.defineProperty(e.style,"transform",{set:function(e){this.msTransform=e}})},ec=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.spaceBetween,r=e.className,s=e.loop,n=e.slidesPerView,i=e.slidesPerGroup,a=e.wrapperTag,c=e.a11y,o=e.navigation;return{slidesPerView:void 0===n?1:n,slidesPerGroup:void 0===i?1:i,loop:void 0!==s&&s,wrapperTag:a,a11y:c,spaceBetween:t,className:void 0===r?"swiper-container":r,navigation:void 0===o?{prevEl:".swiper-button-prev",nextEl:".swiper-button-next",disabledClass:"swiper-button-disabled"}:o,modules:[es.s5,es.W_]}},eo=function(){var e=(0,x.Dv)(g),t=(0,m.useState)(+(v.Q.getItem("selectedTab")||"0")),r=t[0],s=t[1],n=(0,m.useState)(-1),i=n[0],a=n[1],c=(0,m.useState)(!0),o=c[0],l=c[1],u=(0,m.useState)(!1),d=u[0],p=u[1],f=(0,m.useState)(""),h=f[0],_=f[1],j=function(){e&&v.Q.setItem("goodsCode",e.toString()),v.Q.setItem("selectedTab",r.toString()),v.Q.setItem("slideIndex",i.toString()),v.Q.setItem("isFromCpcItem",(!d).toString()),v.Q.setItem("isAdImpressionCalled","true")};return(0,m.useEffect)(function(){s(+(v.Q.getItem("selectedTab")||"0")),a(+(v.Q.getItem("slideIndex")||5)),p("true"===v.Q.getItem("isFromCpcItem")),l("true"===v.Q.getItem("isAdImpressionCalled")),_(v.Q.getItem("clickedCPCId")||"")},[s,a,p]),{selectedTab:r,slideIndex:i,isFromCpcItem:d,isAdImpressionCalled:o,setSelectedTab:s,setSlideIndex:a,setIsFromCpcItem:p,saveCpcStatus:j,clickedCPCId:h,setClickedCPCId:_}},el=r(930),eu=function(e){var t=e.items,r=e.slidesPerGroup,s=t.length%r;return(0,el.Z)(t).concat((0,el.Z)(t.slice(0,s?r-s:0)))},ed=r(7702),em=function(e){var t,r=e.items,n=e.selectedTab,i=e.slideIndex,a=e.setSlideIndex,c=e.saveCpcStatus,l=(0,m.useState)(),u=l[0],d=l[1];return I(r),(0,m.useEffect)(function(){null==u||u.slideReset(0)},[n,i]),(0,m.useEffect)(function(){null==u||u.off("click"),null==u||u.on("click",c)},[c,u]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(ed.tq,(0,er.Z)((0,o.Z)({onSwiper:d},(0,er.Z)((0,o.Z)({},ec({slidesPerView:5,slidesPerGroup:5,loop:!0,spaceBetween:10,wrapperTag:"div",a11y:{prevSlideMessage:"이전",nextSlideMessage:"다음"},navigation:{prevEl:".swiper-button-prev.button__swiper.sprite",nextEl:".swiper-button-next.button__swiper.sprite ",disabledClass:"swiper-button-disabled"}})),{onInit:function(e){ea(e.wrapperEl),e.el.classList.add("box__slider"),e.wrapperEl.classList.add("list__best-relation"),ei({container:e.el,startIndex:e.activeIndex,slidesPerView:5}),en(e.el),a(5)},onSlideChange:function(e){ei({container:e.el,startIndex:e.activeIndex,slidesPerView:5}),a(e.activeIndex)}})),{children:null==r?void 0:r.map(function(e,t){var r=e||{},n=r.goodsCode,i=r.goodsName;return(0,s.jsx)(ed.o5,{className:"list-item",tag:"div",children:(0,s.jsx)(et,(0,er.Z)((0,o.Z)({isClickedItem:!1,hasParamItemId:!1,updateClickedItemId:null,isClickShown:!1,isCpcItem:!0},e),{rank:t+1}))},"".concat(n,"_").concat(i,"_").concat(t))})}))})},ep=function(e){var t=e.type,r=(0,D.Je)({acode:P.adModulePageChange});return(0,s.jsx)("button",{ref:r,type:"button",className:"swiper-button-".concat(t," button__swiper sprite"),children:(0,s.jsx)("span",{className:"for-a11y",children:"prev"===t?"이전":"디음"})})},ex=function(e){var t=e.criteriaText,r=e.isSelected,n=e.onClick,i=e.suggestType,a=(0,p.useRouter)().query,c=a.subGroupCode,o=a.groupCode,l=(0,D.Je)({acode:P.adModuleCategory,suggest_type:i,categoryno:c||o});return(0,s.jsx)("button",{ref:l,role:"tab",type:"button",className:"button__type","aria-controls":"best-relation-list","aria-selected":r,tabIndex:r?0:-1,onClick:n,children:t})},ef=function(e){var t=e.data,r=e.loading,n=e.error,i=eo(),a=i.selectedTab,c=i.slideIndex,o=i.isAdImpressionCalled,l=i.setSelectedTab,u=i.setSlideIndex,d=i.saveCpcStatus,p=function(e){l(e)},x=null==t?void 0:t.map(function(e){var t=e.suggestCriteria,r=eu({items:e.items,slidesPerGroup:5});return(0,s.jsx)(em,{items:r,selectedTab:a,slideIndex:c,setSlideIndex:u,saveCpcStatus:d},t)});return((0,m.useEffect)(function(){if(!o){var e=!0,r=!1,s=void 0;try{for(var n,i=t[Symbol.iterator]();!(e=(n=i.next()).done);e=!0)n.value.items.filter(function(e){return e.isAdItem}).forEach(function(e){var t=e.impUrl;t&&R(t)})}catch(a){r=!0,s=a}finally{try{e||null==i.return||i.return()}finally{if(r)throw s}}}},[t,o]),!(null==t?void 0:t.length)||r||n)?null:(0,s.jsxs)("div",{className:"box__best-relation",children:[(0,s.jsxs)("div",{className:"box__best-relation-nav",children:[(0,s.jsxs)("span",{className:"text__best-relation-title",children:["방금 본 상품과 ",(0,s.jsx)("strong",{className:"text__emphasis",children:"비슷한 상품"}),"은 어때요?"]}),(0,s.jsx)("div",{className:k()("box__best-relation--category",{"category-full":(null==t?void 0:t.length)>=5}),role:"tablist",children:null==t?void 0:t.map(function(e,t){var r=e||{},n=r.criteriaText,i=r.suggestType;return(0,s.jsxs)(m.Fragment,{children:[(0,s.jsx)(ex,{criteriaText:n,isSelected:a===t,suggestType:i,onClick:function(){return p(t)}})," "]},n)})})]}),(0,s.jsxs)("div",{className:"box__best-relation--list",role:"tabpanel",id:"box__best-relation--list",children:[(0,s.jsx)("div",{className:"box__slide-wrap list__best-relation-slide",children:x[a]}),(0,s.jsx)(ep,{type:"prev"}),(0,s.jsx)(ep,{type:"next"})]})]})},eg=function(e){var t,r=e.clickedItemId,n=e.isClickedItem,i=e.hasParamItemId,a=e.updateClickedItemId,c=e.item,l=e.isCpcShown,u=e.relatedItems,d=(null===(t=u.data)||void 0===t?void 0:t.length)>0,m=n||i;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("li",{className:k()("list-item",{"list-item--selected":m}),children:(0,s.jsx)(et,(0,o.Z)({isClickedItem:n,hasParamItemId:i,updateClickedItemId:a,isClickShown:m},c))}),l&&d&&(0,s.jsx)("li",{className:"list-item list-item--relation",children:(0,s.jsx)(ef,(0,o.Z)({},u))},"".concat(r,"_cpc"))]})},eh=function(e){var t=e.items,r=void 0===t?[]:t,n=e.error,c=j("goodsCode"),o=c.clickedItemId,l=c.paramItemId,u=c.relatedItems,d=c.updateClickedItemId;return(I(r),void 0!==n&&n)?(0,s.jsx)(i,{}):r.length?(0,s.jsx)("div",{className:"box__best-list",children:(0,s.jsx)("ul",{className:"list__best",children:r.map(function(e,t){var n=(e||{}).goodsCode,i=t%5,a=null==r?void 0:r.slice(t-i,t-i+5),c=!!(null==a?void 0:a.find(function(e){return e.goodsCode===o}));return(0,s.jsx)(eg,{clickedItemId:o,isClickedItem:o===n,hasParamItemId:l===n,updateClickedItemId:d,item:e,isCpcShown:4===i&&c,relatedItems:u},n)})})}):(0,s.jsx)(a,{})},ev=r(7729),e_=r.n(ev),ej=function(e){var t=(0,m.useState)(""),r=t[0],s=t[1],n=(0,p.useRouter)().query,i=n.subGroupCode,a=n.groupCode;return(0,m.useEffect)(function(){var t;(t=(0,c.Z)(function(){var t,r,n,c,o,l,u,m,p,x,f,g,h,v,_,j,b,y;return(0,d.__generator)(this,function(d){t=!0,r=!1,n=void 0;try{for(c=e[Symbol.iterator]();!(t=(o=c.next()).done);t=!0){if(u=(l=o.value).groupCode,m=l.groupName,p=l.subGroups,x=void 0===p?[]:p,!i&&u===a){s(m);break}f=!0,g=!1,h=void 0;try{for(v=x[Symbol.iterator]();!(f=(_=v.next()).done);f=!0)b=(j=_.value).groupSubCode,y=j.groupSubName,b===i&&s(y)}catch(N){g=!0,h=N}finally{try{f||null==v.return||v.return()}finally{if(g)throw h}}}}catch(C){r=!0,n=C}finally{try{t||null==c.return||c.return()}finally{if(r)throw n}}return[2]})}),function(){return t.apply(this,arguments)})()},[e,a,i]),r},eb=r(9097),ey=r.n(eb),eN=function(e){var t=e.isNotALL,r=e.isActiveGroupAnchor,n=e.groupName,i=e.groupCode,a=e.imageUrl,c=e.asn,o=(0,D.Je)({acode:P.largeGroup,asn:"ALL"===n?"":c,categorycode:i,categoryname:n});return(0,s.jsx)(ey(),{passHref:!0,href:t?"".concat(b.Mx,"?groupCode=").concat(i):b.Mx,children:(0,s.jsxs)("a",{ref:o,className:k()("link__category",{"link__category--active":r}),children:[(0,s.jsx)("span",{className:"box__thumbnail",children:(0,s.jsx)(Q.fc,{src:a,className:"image",alt:n})}),(0,s.jsx)("span",{className:"text__category",children:n})]})})},eC=function(e){var t=e.groupSubName,r=e.groupSubCode,n=e.asn,i=e.currentGroupCode,a=e.currentGroupName,c=e.isActive,o=(0,D.Je)({acode:P.middleGroup,asn:n,categorycode:r,categoryname:t,topcategorycode:i,topcategoryname:a});return(0,s.jsx)(ey(),{href:r?"".concat(b.Mx,"?groupCode=").concat(i,"&subGroupCode=").concat(r):"".concat(b.Mx,"?groupCode=").concat(i),passHref:!0,children:(0,s.jsx)("a",{ref:o,className:k()("link__category",{"link__category--active":c}),children:(0,s.jsx)("span",{className:"text__category",children:t})})})},eI=function(e){var t=e.subGroups,r=void 0===t?[]:t,n=e.currentGroupName,i=(0,p.useRouter)().query,a=i.subGroupCode,c=i.groupCode,l=(0,m.useRef)(null),u=(0,m.useState)(!1),d=u[0],x=u[1],f=(0,m.useState)(!0),g=f[0],h=f[1],v=(0,D.Je)({acode:P.middleGroupPrevNext});return((0,m.useLayoutEffect)(function(){var e;x(((null===(e=l.current)||void 0===e?void 0:e.scrollWidth)||0)>1200),h(!1)},[]),r.length)?(0,s.jsx)("div",{className:"box__category-filter box__2depth-filter",role:"navigation",style:{minHeight:61,boxSizing:"border-box"},children:(0,s.jsx)("div",{className:"box__category-inner",style:g?{visibility:"hidden"}:void 0,children:(0,s.jsxs)("div",{className:"box__category-inner",children:[d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ed.tq,(0,er.Z)((0,o.Z)({},ec({slidesPerView:"auto",a11y:{prevSlideMessage:"이전 카테고리 분류",nextSlideMessage:"다음 카테고리 분류"}})),{children:r.map(function(e,t){var r=e.groupSubCode||"";return(0,s.jsx)(ed.o5,{children:(0,s.jsx)(eC,(0,er.Z)((0,o.Z)({},e),{isActive:!a&&!t||r===a,currentGroupCode:c,currentGroupName:n,asn:t+1}))},r)})})),(0,s.jsx)("button",{ref:v,type:"button",className:"swiper-button-prev"}),(0,s.jsx)("button",{ref:v,type:"button",className:"swiper-button-next"})]}),!d&&(0,s.jsx)("ul",{ref:l,className:"list__category-filter",children:r.map(function(e,t){var r=e.groupSubCode||"";return(0,s.jsx)("li",{className:"list-item",children:(0,s.jsx)(eC,(0,er.Z)((0,o.Z)({},e),{isActive:!a&&!t||r===a,currentGroupCode:c,currentGroupName:n,asn:t+1}))},r)})})]})})}):null},eS=function(e){var t=e.categoryData,r=void 0===t?[]:t,n=(0,p.useRouter)().query.groupCode,i=(0,m.useState)(),a=i[0],c=i[1],l=(0,D.Je)({acode:P.largeGroupPrevNext}),u=r.findIndex(function(e){return e.groupCode===n}),d=r[u]||{},x=d.subGroups,f=void 0===x?[]:x,g=d.groupName,h=!!n&&f.length>0,v=r.length>=14;return((0,m.useEffect)(function(){null==a||a.slideTo(Math.max(0,u)+1)},[a,u]),r)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"box__category-filter box__1depth-filter",role:"navigation",children:(0,s.jsxs)("div",{className:"box__category-inner",children:[v&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ed.tq,(0,er.Z)((0,o.Z)({},ec({slidesPerView:"auto",slidesPerGroup:14,a11y:{prevSlideMessage:"이전 카테고리 분류",nextSlideMessage:"다음 카테고리 분류"}})),{onSwiper:c,children:r.map(function(e,t){var r=e.groupCode;return(0,s.jsx)(ed.o5,{children:(0,s.jsx)(eN,(0,er.Z)((0,o.Z)({},e),{isNotALL:!!t,isActiveGroupAnchor:n===r||!n&&0===t,asn:t+1}))},r)})})),(0,s.jsx)("button",{ref:l,type:"button",className:"swiper-button-prev"}),(0,s.jsx)("button",{ref:l,type:"button",className:"swiper-button-next"})]}),!v&&(0,s.jsx)("ul",{className:"list__category-filter",children:r.map(function(e,t){var r=e.groupCode;return(0,s.jsx)("li",{className:"list-item",children:(0,s.jsx)(eN,(0,er.Z)((0,o.Z)({},e),{isNotALL:!!t,isActiveGroupAnchor:n===r||!n&&0===t,asn:t+1}))},r)})})]})}),h&&(0,s.jsx)(eI,{subGroups:f,currentGroupName:g},n)]}):null},ek=function(e){var t=e.categoryData,r=ej(t);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_(),{children:(0,s.jsx)("title",{children:"G마켓 - G마켓 베스트".concat(r&&">".concat(r))})}),(0,s.jsx)("div",{className:"box__filter-wrap",children:(0,s.jsx)(eS,{categoryData:t})})]})},eP=function(e){var t=e.ref1,r=e.ref2,s=e.setOpenState;(0,m.useEffect)(function(){var e=function(e){var n=t.current&&!t.current.contains(e.target),i=r&&r.current&&!r.current.contains(e.target);(r?n&&i:n)&&s(!1)};return document.addEventListener("mousedown",e,!0),function(){document.removeEventListener("mousedown",e,!0)}},[t,r,s])},ew=["G마켓 베스트 랭킹은 상품의 판매수량, 매출을 기반으로, 각각의 가중치 및 카테고리 가격대 가중치를 반영하여 선정됩니다.","베스트 랭킹은 최근 2시간 판매 데이터로 집계되며, 실시간 업데이트 됩니다.","베스트 상품과 연관 있는 개인화 추천 광고 모듈이 노출될 수 있습니다.",],eZ=function(){var e=(0,m.useState)(!1),t=e[0],r=e[1],n=(0,m.useRef)(null),i=(0,D.Je)({acode:P.tooltip}),a=(0,D.Je)({acode:P.tooltipClose}),c=function(){return r(function(e){return!e})};return eP({ref1:n,setOpenState:r}),(0,m.useEffect)(function(){var e=function(e){n.current&&!n.current.contains(e.target)&&r(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[n,r]),(0,s.jsxs)("div",{ref:n,className:"box__tooltip-info",children:[(0,s.jsx)("button",{ref:i,type:"button",className:"button__tooltip sprite","aria-expanded":t,onClick:c,children:(0,s.jsx)("span",{className:"for-a11y",children:"안내창 열기"})}),(0,s.jsxs)("div",{className:"box__tooltip",style:t?{display:"block"}:void 0,children:[(0,s.jsx)("button",{ref:a,type:"button",className:"button__closed sprite",onClick:c,children:(0,s.jsx)("span",{className:"for-a11y",children:"안내창 닫기"})}),(0,s.jsx)("p",{className:"text__title",children:"베스트 선정 기준"}),(0,s.jsx)("ul",{className:"list__text",children:ew.map(function(e){return(0,s.jsx)("li",{className:"list-item",children:e},e)})})]})]})},eG="\n  ".concat("\n  img[class*=no-js],\n  .swiper-lazy.swiper-lazy-loaded {\n    opacity: 1;\n    transition: opacity 0.2s;\n  }\n  img[src^=data],\n  .swiper-lazy {\n    opacity: 0;\n  }\n","\n").replace(/(\n| {2})/g,"").replace(/: /g,":").replace(/ {/g,"{"),eE={title:"title",description:"description",canonical:"canonical",alternate:"alternate",ogDescription:"og:description",ogUrl:"og:url"},eA=["//pics.gmarket.co.kr","//script.gmarket.co.kr","//image.gmarket.co.kr","//gdimg.gmarket.co.kr","//ad-img.gmarket.com",],eF=function(e){var t=e.isSFC;return(0,s.jsxs)(e_(),{children:[(0,s.jsx)("meta",{name:"viewport",content:"width=980"}),(0,s.jsx)("meta",{charSet:"utf-8"}),(0,s.jsx)("title",{children:"G마켓 - G마켓 ".concat(b.R)},eE.title),(0,s.jsx)("meta",{httpEquiv:"X-UA-Compatible",content:"ie=edge"}),(0,s.jsx)("meta",{name:"description",content:"인터넷쇼핑,오픈마켓,패션/뷰티,디지털,식품/유아,스포츠/자동차,생활용품,도서/DVD,여행/항공권,e쿠폰/티켓,만화/게임,공동구매,경매,중고,글로벌쇼핑,브랜드샵,베스트셀러,방문쇼핑몰,G스탬프,할인쿠폰,동영상,이벤트 등 G마켓"},eE.description),(0,s.jsx)("meta",{name:"keywords",content:"베스트100,베스트셀러,경매,할인쿠폰,베스트셀러,공동구매,컴퓨터/핸드폰,에어컨/TV/디카,MP3/게임,패션/명품/브랜드,여성의류/속옷,남성의류/정장/빅사이즈,분유/기저귀/식품/생리대/임부복,유아동/장난감,쌀/과일/한우/생선,건강식품/음료,화장품/자동차,스포츠/다이어트,골프/등산/스키/낚시,운동화,네비게이션,리빙/침구/인테리어,애완/성인/공구,꽃배달,도서/여행/항공권,만화"}),(0,s.jsx)("meta",{name:"msapplication-starturl",content:"https://www.gmarket.co.kr/n/best"}),(0,s.jsx)("meta",{property:"og:site_name",content:"Gmarket"}),(0,s.jsx)("meta",{property:"og:title",content:"G마켓 베스트"}),(0,s.jsx)("meta",{property:"og:type",content:"website"}),(0,s.jsx)("meta",{property:"og:url",content:"https://www.gmarket.co.kr/n/best"},eE.ogUrl),(0,s.jsx)("meta",{property:"og:image",content:"http://pics.gmarket.co.kr/mobile/single/kr/common/sns/gmarket_sns.png"}),(0,s.jsx)("link",{rel:"canonical",href:"https://www.gmarket.co.kr/n/best"},eE.canonical),(0,s.jsx)("link",{rel:"alternate",media:"only screen and (max-width: 640px)",href:"https://m.gmarket.co.kr/n/best"},eE.alternate),(0,s.jsx)("meta",{httpEquiv:"x-dns-prefetch-control",content:"on"}),eA.map(function(e){return(0,s.jsx)("link",{rel:"dns-prefetch",href:e},e)}),(0,s.jsx)("meta",{name:"p:domain_verify",content:"f439a07b31c110a1a16c9a468a630af9"}),(0,s.jsx)("meta",{property:"fb:admins",content:"100000991027914"}),(0,s.jsx)("link",{rel:"apple-touch-icon-precomposed",href:"http://image.gmarket.co.kr/Gmarket_Mobile_v2/icon_01.png"}),(0,s.jsx)("link",{rel:"shortcut icon",href:void 0!==t&&t?"//pics.gmarket.co.kr/favicon/sfcmall/favicon.ico":"//image.gmarket.co.kr/favicon/gmarket.ico"})]})},eT=r(962),eR=r(2955),eD=function(e){var t=e.isSFC,r=(0,m.useRef)(null),n=(0,m.useState)({minHeight:455}),i=n[0],a=n[1];return(0,m.useEffect)(function(){r.current&&(eT.j_.render([{name:"Footer",params:{type:"default",isSfc:t},container:r.current},]),a({}))},[]),(0,s.jsx)("div",{ref:r,style:i})},eM=function(e){return(0,s.jsx)(eR.SV,{fallback:null,children:(0,s.jsx)(eD,(0,o.Z)({},e))})},eU=function(e){var t=e.isSFC,r=e.user,n=(0,m.useRef)(null),i=(0,m.useState)({minHeight:144}),a=i[0],c=i[1];return(0,m.useEffect)(function(){if(n.current){var e=(null==r?void 0:r.name)?(0,o.Z)({type:"member"},r):{type:"unknown"};eT.j_.render([{name:"Header",params:{type:"sub",isSfc:t,user:e,isAdult:r&&r.isAdult},container:n.current},]),c({})}},[]),(0,s.jsx)("div",{ref:n,style:a})},eL=function(e){return(0,s.jsx)(eR.SV,{fallback:null,children:(0,s.jsx)(eU,(0,o.Z)({},e))})},eq=function(){return(0,s.jsxs)("div",{id:"skip-navigation",className:"skip-navigation-simpleheader",children:[(0,s.jsx)("strong",{className:"for-a11y",children:"스킵 네비게이션"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#skip-navigation-search",children:"검색창 바로가기"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#button__category-all",children:"전체카테고리 바로가기"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#container",children:"본문 바로가기"})})]})]})},eV=["".concat(n.Z.assetUrl,"/css/common/kr/ui/browser_update.css"),"".concat(n.Z.scriptUrl,"/pc/css/common/kr/ui/desktop_layout.css"),"".concat(n.Z.scriptUrl,"/pc/css/common/kr/swiper.min.css"),"".concat(n.Z.assetUrl,"/css/ko/corner/gbest.css"),"".concat(n.Z.scriptUrl,"/pc/css/common/kr/ui/common.css"),"".concat(n.Z.scriptUrl,"/starro/desktop/css/best/best.css"),],eQ=[n.Z.viewAbilityScriptSrc,"".concat(n.Z.scriptUrl,"/js/common/ats_gmkt.js"),"".concat(n.Z.scriptUrl,"/fnp/desktop-layout.js"),],eB=function(e){var t=e.isSFC,r=e.user,n=e.children,i=(0,D.qx)({exclusionSelectors:["#desktop_layout-header","#desktop_layout-footer"]});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eF,{isSFC:t}),(0,s.jsxs)(e_(),{children:[eV.map(function(e){return(0,s.jsx)("link",{rel:"preload",as:"style",href:e},e)}),eV.map(function(e){return(0,s.jsx)("link",{rel:"stylesheet",href:e},e)}),eQ.map(function(e){return(0,s.jsx)("link",{rel:"preload",as:"script",href:e},e)}),(0,s.jsx)("style",{children:eG})]}),(0,s.jsx)(eq,{}),(0,s.jsx)(eL,{isSFC:t,user:r}),(0,s.jsx)("div",{id:"container",role:"main",style:i,children:n}),(0,s.jsx)(eM,{isSFC:t}),eQ.map(function(e){return(0,s.jsx)("script",{src:e},e)})]})},eJ=function(e){var t=e.serverData.home,r=t.categoryData,n=t.itemData;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"box__best-top",children:[(0,s.jsxs)("div",{className:"box__best-title",children:[(0,s.jsx)("h2",{className:"text__title",children:"G마켓 베스트"}),(0,s.jsx)(eZ,{})]}),(0,s.jsx)(ek,{categoryData:void 0===r?[]:r})]}),(0,s.jsx)(eh,{items:null==n?void 0:n.items,error:!n})]})};eJ.getLayout=function(e,t){var r=t.isSFC,n=t.user;return(0,s.jsx)(eB,{isSFC:r,user:n,children:e})};var eO=!0,eH=eJ}}]);